webpackJsonp([1],{"7VP8":function(t,e){},NHnr:function(t,e,n){"use strict";function i(t){var e=t.page,n=void 0===e?1:e,i=t.size,r=void 0===i?10:i,s={filter:"created",page:n,per_page:r,access_token:g},c=h+"/repos/"+m+"/"+v+"/issues"+_(s);return fetch(c).then(function(t){return t.json()})}function r(t){var e={access_token:g},n=h+"/repos/"+m+"/"+v+"/issues/"+t+_(e);return fetch(n).then(function(t){return t.json()})}function s(t){n("7VP8")}function c(t){n("PzSf")}function o(t){n("wJKt")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),u=n("//Fk"),l=n.n(u),d=n("NYxO"),f=n("fZjL"),p=n.n(f),h="https://api.github.com",m="Joldine",v="joldnine.github.io",g="31ac025ebb27c898d056e7b7bc9f4ab52a8d3c50",_=function(t){var e=encodeURIComponent;return"?"+p()(t).map(function(n){return e(n)+"="+e(t[n])}).join("&")};a.default.use(d.a);var A=new d.a.Store({state:{articles:[]},mutations:{ADD_ARTICLE:function(t,e){t.articles.push(e)},CLEAR_ARTICLE:function(t){t.articles=[]}},actions:{requestArticleList:function(t,e){var n=t.commit,r={page:e,size:66};return new l.a(function(t,e){i(r).then(function(e){e.forEach(function(e){n("ADD_ARTICLE",e),t()})})})},requestArticle:function(t,e){var n=t.commit;return new l.a(function(t,i){r(e).then(function(e){n("ADD_ARTICLE",e),t()})})}},getters:{getArticles:function(t){return t.articles},getArticleById:function(t){return function(e){return t.articles.find(function(t){return t.number===parseInt(e)})}},isArticlesEmpty:function(t){return 0===t.articles.length},isArticleExisted:function(t){return function(e){return void 0!==t.articles.find(function(t){return t.number===parseInt(e)})}}}}),b=A,C={name:"app"},L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-container",[n("el-header",[n("span",{staticClass:"header-title"},[t._v("Joldnine's Blog")])]),t._v(" "),n("el-main",[n("router-view")],1)],1)],1)},E=[],k={render:L,staticRenderFns:E},w=k,I=n("VU/8"),R=s,$=I(C,w,!1,R,null,null),T=$.exports,y=n("/ocq"),q=n("EFqf"),x=n.n(q),B={name:"ArticleList",data:function(){return{loading:!1}},computed:{articleList:{get:function(){return this.$store.getters.getArticles}}},created:function(){this.initArticleList()},methods:{initArticleList:function(){var t=this;this.loading=!0,this.$store.commit("CLEAR_ARTICLE"),this.$store.dispatch("requestArticleList",1).then(function(){t.loading=!1}).catch(function(){t.loading=!1})},goToContent:function(t){this.$router.push("/article/"+t)},compiledMarkdown:function(t){return x()(t.substring(0,t.indexOf("\n")))}}},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"article-list-search"}),t._v(" "),t.loading?n("el-button",{attrs:{loading:t.loading}}):t._e(),t._v(" "),t._l(t.articleList,function(e){return n("div",{key:e.number,staticClass:"article-list-item"},[n("div",{staticClass:"article-list-item-title",on:{click:function(n){t.goToContent(e.number)}}},[n("span",[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"article-list-item-content"},[n("div",{domProps:{innerHTML:t._s(t.compiledMarkdown(e.body))}})])])})],2)},P=[],j={render:M,staticRenderFns:P},z=j,D=n("VU/8"),F=c,J=D(B,z,!1,F,"data-v-00132abe",null),V=J.exports,H={name:"ArticleContent",data:function(){return{article:{body:""},number:this.$route.params.number,loading:!0}},created:function(){this.getArticleById()},computed:{compiledMarkdown:function(){return x()(this.article.body,{sanitize:!0,breaks:!0})}},methods:{getArticleById:function(){var t=this;this.$store.getters.isArticleExisted(this.number)?this.article=this.$store.getters.getArticleById(this.number):this.$store.dispatch("requestArticle",this.number).then(function(){t.article=t.$store.getters.getArticleById(t.number)}),this.loading=!1},goToList:function(){this.$router.push("/")}}},U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content-header"},[n("span",{staticClass:"content-header-back",on:{click:function(e){t.goToList()}}},[t._v("\n      Back to list\n    ")])]),t._v(" "),t.loading?n("el-button",{attrs:{loading:t.loading}}):t._e(),t._v(" "),n("div",{staticClass:"content-title"},[n("span",[t._v(t._s(t.article.title))])]),t._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.compiledMarkdown)}})],1)},N=[],O={render:U,staticRenderFns:N},S=O,K=n("VU/8"),W=o,Y=K(H,S,!1,W,"data-v-42acde86",null),Z=Y.exports;a.default.use(y.a);var G=new y.a({routes:[{path:"/",name:"ArticleList",component:V},{path:"/article/:number",name:"ArticleContent",component:Z}]}),Q=n("zL8q"),X=n.n(Q);n("tvR6");a.default.use(X.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:G,store:b,template:"<App/>",components:{App:T}})},PzSf:function(t,e){},tvR6:function(t,e){},wJKt:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b1992d42a4ecf91814dc.js.map